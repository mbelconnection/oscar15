-- this update is from Jasson

INSERT INTO encounterForm(form_name,form_value,form_table,hidden) 
VALUES ('CHF','../form/formchf.jsp?demographic_no=','formchf',0);

DROP TABLE formchf;

CREATE TABLE formchf (
  ID NUMBER NOT NULL,
  demographic_no NUMBER,
  provider_no NUMBER,
  formCreated date,
  formEdited timestamp default CURRENT_TIMESTAMP NOT NULL,
  pName varchar2(60),
  sex varchar2(1),
  birthDate varchar2(15),
  SHFDx NUMBER(1),
  PSFDx NUMBER(1),
  dateFlu date,
  datePneumo date,
  dateEcho date,
  dateCXR date,
  CXRedema NUMBER(1),
  CXRcardiomegaly NUMBER(1),
  CXReffusion NUMBER(1),
  dateEKG date,
  CBC NUMBER(1),
  lytes NUMBER(1),
  creat NUMBER(1),
  ua NUMBER(1),
  RBS NUMBER(1),
  lipids NUMBER(1),
  LFT NUMBER(1),
  TSH NUMBER(1),
  date1 date,
  date2 date,
  date3 date,
  weight1 varchar2(5),
  weight2 varchar2(5),
  weight3 varchar2(5),
  fatigue1 NUMBER(1),
  dizzy1 NUMBER(1),
  SOBOE1 NUMBER(1),
  SOBresting1 NUMBER(1),
  orthopnea1 NUMBER(1),
  PND1 NUMBER(1),
  fatigue2 NUMBER(1),
  dizzy2 NUMBER(1),
  SOBOE2 NUMBER(1),
  SOBresting2 NUMBER(1),
  orthopnea2 NUMBER(1),
  PND2 NUMBER(1),
  fatigue3 NUMBER(1),
  dizzy3 NUMBER(1),
  SOBOE3 NUMBER(1),
  SOBresting3 NUMBER(1),
  orthopnea3 NUMBER(1),
  PND3 NUMBER(1),
  NYHAI1 NUMBER(1),
  NYHAII1 NUMBER(1),
  NYHAIII1 NUMBER(1),
  NYHAIV1 NUMBER(1),
  NYHAI2 NUMBER(1),
  NYHAII2 NUMBER(1),
  NYHAIII2 NUMBER(1),
  NYHAIV2 NUMBER(1),
  NYHAI3 NUMBER(1),
  NYHAII3 NUMBER(1),
  NYHAIII3 NUMBER(1),
  NYHAIV3 NUMBER(1),
  BP1 varchar2(8),
  BP2 varchar2(8),
  BP3 varchar2(8),
  JVPyes1 NUMBER(1),
  JVPno1 NUMBER(1),
  JVPyes2 NUMBER(1),
  JVPno2 NUMBER(1),
  JVPyes3 NUMBER(1),
  JVPno3 NUMBER(1),
  edemayes1 NUMBER(1),
  edemano1 NUMBER(1),
  edema1 varchar2(30),
  edemayes2 NUMBER(1),
  edemano2 NUMBER(1),
  edema2 varchar2(30),
  edemayes3 NUMBER(1),
  edemano3 NUMBER(1),
  edema3 varchar2(30),
  cracklesyes1 NUMBER(1),
  cracklesno1 NUMBER(1),
  crackles1 varchar2(30),
  cracklesyes2 NUMBER(1),
  cracklesno2 NUMBER(1),
  crackles2 varchar2(30),
  cracklesyes3 NUMBER(1),
  cracklesno3 NUMBER(1),
  crackles3 varchar2(30),
  PI1 varchar2(60),
  PI2 varchar2(60),
  PI3 varchar2(60),
  Na1 varchar2(10),
  Na2 varchar2(10),
  Na3 varchar2(10),
  K1 varchar2(4),
  K2 varchar2(4),
  K3 varchar2(4),
  creat1 varchar2(4),
  creat2 varchar2(4),
  creat3 varchar2(4),
  eGFR1 varchar2(4),
  eGFR2 varchar2(4),
  eGFR3 varchar2(4),
  ervisits1 varchar2(20),
  ervisits2 varchar2(20),
  ervisits3 varchar2(20),
  compliance1 NUMBER(1),
  fluids1 NUMBER(1),
  weights1 NUMBER(1),
  exercise1 NUMBER(1),
  compliance2 NUMBER(1),
  fluids2 NUMBER(1),
  weights2 NUMBER(1),
  exercise2 NUMBER(1),
  compliance3 NUMBER(1),
  fluids3 NUMBER(1),
  weights3 NUMBER(1),
  exercise3 NUMBER(1),
  discussbp1 NUMBER(1),
  discussdm1 NUMBER(1),
  discusslipids1 NUMBER(1),
  discusssmoking1 NUMBER(1),
  discussweight1 NUMBER(1),
  discussbp2 NUMBER(1),
  discussdm2 NUMBER(1),
  discusslipids2 NUMBER(1),
  discusssmoking2 NUMBER(1),
  discussweight2 NUMBER(1),
  discussbp3 NUMBER(1),
  discussdm3 NUMBER(1),
  discusslipids3 NUMBER(1),
  discusssmoking3 NUMBER(1),
  discussweight3 NUMBER(1),
  goal1 varchar2(60),
  goal2 varchar2(60),
  goal3 varchar2(60),
  challange1 varchar2(60),
  challange2 varchar2(60),
  challange3 varchar2(60),
  ACEintolerant NUMBER(1),
  ACEcontraindicated NUMBER(1),
  ACE1 varchar2(40),
  ACEtargetY1 NUMBER(1),
  ACEtargetN1 NUMBER(1),
  ACE2 varchar2(40),
  ACEtargetY2 NUMBER(1),
  ACEtargetN2 NUMBER(1),
  ACE3 varchar2(40),
  ACEtargetY3 NUMBER(1),
  ACEtargetN3 NUMBER(1),
  bbintolerant NUMBER(1),
  bbcontraindicated NUMBER(1),
  bb1 varchar2(40),
  bbtargetY1 NUMBER(1),
  bbtargetN1 NUMBER(1),
  bb2 varchar2(40),
  bbtargetY2 NUMBER(1),
  bbtargetN2 NUMBER(1),
  bb3 varchar2(40),
  bbtargetY3 NUMBER(1),
  bbtargetN3 NUMBER(1),
  ARB1 varchar2(40),
  ARBtargetY1 NUMBER(1),
  ARBtargetN1 NUMBER(1),
  ARB2 varchar2(40),
  ARBtargetY2 NUMBER(1),
  ARBtargetN2 NUMBER(1),
  ARB3 varchar2(40),
  ARBtargetY3 NUMBER(1),
  ARBtargetN3 NUMBER(1),
  loop1 varchar2(40),
  loop2 varchar2(40),
  loop3 varchar2(40),
  spironolactone1 varchar2(10),
  spironolactone2 varchar2(10),
  spironolactone3 varchar2(10),
  digoxin1 varchar2(10),
  digoxin2 varchar2(10),
  digoxin3 varchar2(10),
  ASA1 varchar2(20),
  ASA2 varchar2(20),
  ASA3 varchar2(20),
  anticoagulant1 varchar2(40),
  anticoagulant2 varchar2(40),
  anticoagulant3 varchar2(40),
  sig1 varchar2(20),
  sig2 varchar2(20),
  sig3 varchar2(20),
  PRIMARY KEY  (ID)
) ;
CREATE OR REPLACE TRIGGER TRI_formchf_ID
BEFORE INSERT
ON formchf
FOR EACH ROW
DECLARE
       IDX NUMBER;
BEGIN
     IF :new.id is null THEN
     SELECT HIBERNATE_SEQUENCE.NEXTVAL INTO IDX FROM DUAL;
     :new.id := IDX;
     END IF;
END;
